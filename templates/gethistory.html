<!DOCTYPE html>
<html>
  <head>
    <title>The Weather Station</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
  </head>
  <body>
    <h1>The Weather Station</h1>
    <p>Welcome to WeatherStation</p>

    <div id="tester" style="width:800px;height:400px;"></div>
    <h2>To Do List! <br></h2>
    <p>
        1. Make a restful call to flask application <br>
        2. Set list1 to datetime <br>
        3. Set list2 to temperature <br>
        4. Take these 2 lists and populate graph with them.
    </p>
    <script>
      //make server get request to pi
      $.get( "/gethistory", function(data) {

            results = data;

            var dates = [];
            var temps = [];
            for(var i=0; i < results.length; ++i) {
            
            dates.push(results[i][0]);
            temps.push(results[i][1]);
      }
        TESTER = document.getElementById('tester');
        Plotly.plot( TESTER, [{
        x: dates,
        y: temps }], {
        margin: { t: 0 } } );
      })


      
      </script>

  </body>
</html>
